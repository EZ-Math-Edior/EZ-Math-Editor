(this.webpackJsonpexme=this.webpackJsonpexme||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},122:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o),i=n(28),r=n.n(i),c=(n(119),n(19)),a=n(20),l=n(22),u=n(21),d=(n(45),n(120),n(3));var h=function(){return Object(d.jsx)("nav",{className:"Home",children:Object(d.jsx)("h1",{children:"EZ Math Editor"})})},p=(n(122),n(75),n(70));n(123),n(265);p.a.initializeApp({apiKey:"AIzaSyBIZUh5JGnR3ZuHRHEH_-Scodkf7iHsTXE",authDomain:"ez-math-editor.firebaseapp.com",projectId:"ez-math-editor",storageBucket:"ez-math-editor.appspot.com",messagingSenderId:"254306906260",appId:"1:254306906260:web:c1e08043359d912454c481",measurementId:"G-FEDCPCWDRR"});var b=p.a,f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).flushData=function(){o.setState({currQuestion:0,currOption:"",currScore:0,Questions:[],readyToDisplay:!1})},o.chooseOption=function(e){o.setState({currOption:e})},o.nextQuestion=function(){o.state.currOption===o.state.Questions[o.state.currQuestion].answer&&(console.log("right"),o.incScore());var e=o.state.currQuestion+1;o.setState({currQuestion:e}),o.chooseOption("")},o.finishQuiz=function(){o.state.currOption===o.state.Questions[o.state.currQuestion].answer&&(console.log("right"),o.incScore()),console.log(o.state.currOption===o.state.Questions[o.state.currQuestion].answer),o.chooseOption(o.state.currOption);var e=o.state.currQuestion+1;o.setState({currQuestion:e,readyToDisplay:!1},(function(){alert("you scored "+o.state.currScore+" out of "+o.state.Questions.length)}))},o.incScore=function(){var e=o.state.currScore+1;o.setState({currScore:e})},o.parseQuestions=function(e){console.log(e);var t=JSON.parse(e).ops[0].insert;console.log(t),t.split("\n").forEach((function(e){var t=e.split(";;");if(t.length>3){for(var n="",s=[],i="",r=0;r<t.length;++r)0===r?n=t[r]:r===t.length-1?i=s[t[r]-1]:s.push(t[r]);o.addQuestion(n,s,i)}})),o.setState({readyToDisplay:!0}),console.log(o.state.Questions)},o.queryDB=function(){o.flushData(),console.log("querying"),b.firestore().collection("user_data").where("UID","==",1).get().then((function(e){e.empty||o.parseQuestions(e.docs[0].data().Data)})).catch((function(e){console.log("error during query and load func")}))},o.addQuestion=function(e,t,n){var s=o.state.Questions,i={prompt:e,choices:t,answer:n};s.push(i),o.setState({Questions:s})},o.state={currQuestion:0,currOption:"",currScore:0,Questions:[],readyToDisplay:!1},o}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{className:"Quiz",children:[Object(d.jsx)("h1",{children:this.state.readyToDisplay&&this.state.Questions[this.state.currQuestion].prompt}),Object(d.jsxs)("h2",{children:[this.state.readyToDisplay&&"chose: "+this.state.currOption," "]}),Object(d.jsxs)("div",{className:"q-group",children:[this.state.readyToDisplay&&this.state.Questions[this.state.currQuestion].choices.map((function(t,n){return Object(d.jsx)("button",{onClick:function(){e.chooseOption(t)},children:t},n)})),this.state.readyToDisplay&&this.state.currQuestion===this.state.Questions.length-1?Object(d.jsx)("button",{onClick:this.finishQuiz,id:"nextQuestion",children:"Finish Quiz"}):this.state.readyToDisplay&&this.state.currQuestion!=this.state.Questions.length-1?Object(d.jsx)("button",{onClick:this.nextQuestion,id:"nextQuestion",children:"Next Question"}):""]})]}),Object(d.jsxs)("div",{className:"btn-group",children:[Object(d.jsx)("button",{onClick:this.queryDB,children:" Load Test"}),Object(d.jsx)("button",{onClick:function(){e.props.history.push("/EZ-Math-Editor")},children:" Switch to Editor Mode"})]})]})}}]),n}(o.Component),j=n(109),x=n(31),O=n.n(x),N=n(42),g=n(98),v=n(99),m=(n(145),n(55)),y=n.n(m),S=n(100),w=n.n(S),k=n(72),Q=n.n(k),I=(n(251),n(101)),C=n.n(I);window.jQuery=window.$=C.a;n(252),n(253);var D=n(102),T=n.n(D);n(256);window.katex=Q.a;var E=[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{align:[]}],["image","blockquote","code-block"],["formula"],["clean"]],q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).queryAndLoad=function(){console.log(o.props.selectedNote.id),b.firestore().collection("notes").doc(o.props.selectedNote.id).get().then((function(e){e.exists?o.loadIntoRTF(e.data().body):console.log("no data found")})).catch((function(e){console.log("error during query and load func")}))},o.loadIntoRTF=function(e){console.log(e),o.quill.current.editor.setContents(JSON.parse(e))},o.storeIntoDatabase=function(){var e=JSON.stringify(o.quill.current.editor.getContents());b.firestore().collection("notes").doc(o.props.selectedNote.id).update({body:e}).catch((function(e){console.log("error turing update op")}))},o.generatePDF=Object(N.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.quill.current.editor.getContents(),e.next=3,v.pdfExporter.generatePdf(t);case 3:n=e.sent,Object(g.saveAs)(n,"pdf-export.pdf");case 5:case"end":return e.stop()}}),e)}))),o.onEditorUpdate=function(e,t,n){var o,s;return function(){function i(){o=null,n||(s=e.apply(r,c))}var r=this,c=arguments;return clearTimeout(o),o=setTimeout(i,t),n&&!o&&(s=e.apply(r,c)),s}}((function(){console.log("saved"),o.storeIntoDatabase()}),1500),o.quill=s.a.createRef(),o.state={id:""},o}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;T()({Quill:y.a,katex:Q.a})(this.quill.current.editor,this.props.options),this.setState({id:this.props.selectedNote.id},(function(){e.queryAndLoad()}))}},{key:"componentWillUnmount",value:function(){this.storeIntoDatabase()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.selectedNote.id!==this.state.id&&(console.log("switching note"),this.setState({id:this.props.selectedNote.id},(function(){e.queryAndLoad()})))}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(w.a,{ref:this.quill,id:"editor",modules:{formula:!0,toolbar:E},theme:"snow",onChange:this.onEditorUpdate})}),Object(d.jsxs)("div",{className:"btn-group",children:[Object(d.jsx)("button",{onClick:this.queryAndLoad,children:"Load from Database to RTF"}),Object(d.jsx)("button",{onClick:this.storeIntoDatabase,children:"Save from RTF into Database"}),Object(d.jsx)("button",{onClick:this.generatePDF,children:"get your pdf"})]})]})}}]),n}(s.a.Component);var F=n(13),B=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100%",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},R=n(285),M=n(284),z=n(286),A=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%",fontWeight:"bold"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},L=n(283),P=n(107),U=n.n(P),Z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).selectNote=function(t,n){return e.props.selectNote(t,n)},e.deleteNote=function(t){window.confirm("Are you sure you wanna delete ".concat(t.title))&&e.props.deleteNote(t)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.index,o=t.note,s=t.classes,i=t.selectedNoteIndex;return Object(d.jsx)("div",{children:Object(d.jsxs)(L.a,{className:s.listItem,selected:i===n,alignItems:"flex-start",children:[Object(d.jsxs)("div",{className:s.textSection,onClick:function(){return e.selectNote(o,n)},children:[o.title," "]}),Object(d.jsx)(U.a,{className:s.deleteIcon,onClick:function(){return e.deleteNote(o)}})]})})}}]),n}(s.a.Component),J=Object(F.a)(A)(Z),H=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).createNoteSetup=function(){o.setState({title:null,addingNote:!o.state.addingNote})},o.createNote=function(){o.props.createNote(o.state.title),o.setState({title:null,addingNote:!1})},o.updateTitle=function(e){o.setState({title:e})},o.selectNote=function(e,t){o.props.selectNote(e,t)},o.deleteNote=function(e){o.props.deleteNote(e)},o.state={addingNote:!1,title:null},o}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,o=t.classes,s=t.selectedNoteIndex;return n?Object(d.jsxs)("div",{className:o.sidebarContainer,children:[Object(d.jsx)(M.a,{onClick:this.createNoteSetup,className:o.newNoteBtn,children:this.state.addingNote?"cancel":"new note"}),this.state.addingNote?Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",className:o.newNoteInput,placeholder:"Enter note title",onKeyUp:function(t){return e.updateTitle(t.target.value)}}),Object(d.jsx)(M.a,{onClick:this.createNote,className:o.newNoteSubmitBtn,children:"Submit Note"})]}):null,Object(d.jsx)(R.a,{children:n.map((function(t,n){return Object(d.jsxs)("div",{children:[Object(d.jsx)(J,{note:t,index:n,selectedNoteIndex:s,selectNote:e.selectNote,deleteNote:e.deleteNote}),Object(d.jsx)(z.a,{})]},n)}))})]}):Object(d.jsx)("div",{children:"Add a note!"})}}]),n}(s.a.Component),W=Object(F.a)(B)(H),G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).componentDidMount=function(){b.firestore().collection("notes").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));console.log(n),e.setState({notes:n})}))},e.selectNote=function(t,n){e.setState({selectedNoteIndex:n,selectedNote:t})},e.deleteNote=function(){var t=Object(N.a)(O.a.mark((function t(n){var o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.notes.indexOf(n),t.next=3,e.setState({notes:e.state.notes.filter((function(e){return n!==e}))});case 3:e.state.selectedNoteIndex===o?e.setState({selectedNoteIndex:null,selectedNote:null}):e.state.notes.elngth>1?e.selectNote(e.state.notes[e.state.selectedNotesIndex-1],e.state.selectedNoteIndex-1):e.setState({selectedNoteIndex:null,selectedNote:null}),b.firestore().collection("notes").doc(n.id).delete();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createNote=function(){var t=Object(N.a)(O.a.mark((function t(n){var o,s,i,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("creating..."),o={title:n,body:""},t.next=4,b.firestore().collection("notes").add({title:o.title,body:o.body,timestamp:b.firestore.FieldValue.serverTimestamp()});case 4:return s=t.sent,i=s.id,t.next=8,e.setState({notes:[].concat(Object(j.a)(e.state.notes),[o])});case 8:r=e.state.notes.indexOf(e.state.notes.filter((function(e){return e.id===i}))[0]),e.setState({selectedNote:e.state.notes[r],seslectedNoteIndex:r});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={selectedNoteIndex:null,selectedNote:null,notes:null},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)(W,{selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,selectNote:this.selectNote,deleteNote:this.deleteNote,createNote:this.createNote}),this.state.selectedNote?Object(d.jsx)(q,{selectedNoteIndex:this.state.selectedNoteIndex,selectedNote:this.state.selectedNote,notes:this.state.notes}):null,Object(d.jsx)("div",{className:"btn-group",children:Object(d.jsx)("button",{onClick:function(){e.props.history.push("/EZ-Math-Tester")},children:" Switch to Test Mode"})})]})}}]),n}(o.Component),K=n(108),X=n(8),_=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{id:"content",children:[" ",Object(d.jsxs)(K.a,{children:[Object(d.jsx)(h,{}),Object(d.jsxs)(X.c,{children:[Object(d.jsx)(X.a,{path:"/EZ-Math-Editor",component:G}),Object(d.jsx)(X.a,{path:"/EZ-Math-Tester",component:f})]})]})]})}}]),n}(s.a.PureComponent),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),o(e),s(e),i(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(_,{})}),document.getElementById("root")),V()},45:function(e,t,n){}},[[263,1,2]]]);
//# sourceMappingURL=main.9f6d0e6b.chunk.js.map